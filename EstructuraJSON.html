<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Estructura de Mensaje JSON</title>
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <div class="container">
    <h1>Estructura de Mensaje JSON</h1>

    <!-- Sección de ejemplos JSON -->
    <section class="http-examples">
      
      <h2>Objeto JSON</h2>
      <p>Un objeto es una colección desordenada de pares nombre/valor encerrados entre llaves {}.</p>

      <div class="code-example">
        <code id="code-objeto">// Cargando código...</code>
      </div>

      <button onclick="executeObjectExample()" class="execute-btn">Ejecutar</button>

      <div class="result-container">
        <pre id="result-object" class="hidden">[Resultado]</pre>
      </div>

      <h2>Arreglo JSON</h2>
      <p>Un arreglo es una lista ordenada de valores encerrados entre corchetes [].</p>

      <div class="code-example">
        <code id="code-arreglo">// Cargando código...</code>
      </div>

      <button onclick="executeArrayExample()" class="execute-btn">Ejecutar</button>

      <div class="result-container">
        <pre id="result-array" class="hidden">[Resultado]</pre>
      </div>

      <h2>Valores Anidados</h2>
      <p>Los valores pueden ser cadenas, números, booleanos, null, objetos o arreglos anidados.</p>

      <div class="code-example">
        <code id="code-anidado">// Cargando código...</code>
      </div>

      <button onclick="executeNestedExample()" class="execute-btn">Ejecutar</button>

      <div class="result-container">
        <pre id="result-nested" class="hidden">[Resultado]</pre>
      </div>

      <h2>String y Números</h2>
      <p>Las cadenas van entre comillas dobles y los números siguen el formato estándar.</p>

      <div class="code-example">
        <code id="code-tipos">// Cargando código...</code>
      </div>

      <button onclick="executeStringNumberExample()" class="execute-btn">Ejecutar</button>

      <div class="result-container">
        <pre id="result-string-number" class="hidden">[Resultado]</pre>
      </div>

      <h2>Parseo JSON a Objeto</h2>
      <p>Convertir texto JSON a objeto JavaScript usando JSON.parse().</p>

      <div class="code-example">
        <code id="code-parseo">// Cargando código...</code>
      </div>

      <button onclick="executeParseExample()" class="execute-btn">Ejecutar</button>

      <div class="result-container">
        <pre id="result-parse" class="hidden">[Resultado]</pre>
      </div>

      <h2>Objeto a JSON</h2>
      <p>Convertir objeto JavaScript a texto JSON usando JSON.stringify().</p>

      <div class="code-example">
        <code id="code-stringify">// Cargando código...</code>
      </div>

      <button onclick="executeStringifyExample()" class="execute-btn">Ejecutar</button>

      <div class="result-container">
        <pre id="result-stringify" class="hidden">[Resultado]</pre>
      </div>

      <h2>Uso en APIs</h2>
      <p>Ejemplo de cómo JSON se usa en peticiones HTTP para intercambiar datos.</p>

      <div class="code-example">
        <code>// Petición API
fetch('https://jsonplaceholder.typicode.com/users/1')
  .then(response => response.json())
  .then(data => console.log(data));</code>
      </div>

      <button onclick="executeApiExample()" class="execute-btn">Ejecutar</button>

      <div class="result-container">
        <pre id="result-api" class="hidden">[Resultado]</pre>
      </div>

      <h2>Limitaciones JSON</h2>
      <p>JSON no admite funciones, fechas, expresiones regulares ni comillas simples.</p>

      <div class="code-example">
        <code>❌ NO válido en JSON:

{
  'nombre': 'Juan',     // comillas simples
  fecha: new Date(),    // objeto Date
  funcion: function() { return "hola"; }, // función
  regex: /[a-z]+/g,     // expresión regular
  undefined: undefined  // undefined
}</code>
      </div>

      <button onclick="executeLimitationsExample()" class="execute-btn">Ejecutar</button>

      <div class="result-container">
        <pre id="result-limitations" class="hidden">[Resultado]</pre>
      </div>

      <h2>Editor JSON Interactivo</h2>
      <p>Edita el JSON en tiempo real y ve la validación automática.</p>

      <div class="interactive-editor">
        <div class="editor-section">
          <h4>Editor JSON:</h4>
          <textarea id="json-editor" class="json-input" placeholder='{"nombre": "Tu nombre", "edad": 25}'>{
  "nombre": "Juan",
  "edad": 30,
  "profesion": "Desarrollador",
  "habilidades": ["JavaScript", "Python", "JSON"]
}</textarea>
          <div class="editor-controls">
            <button onclick="validateJSON()" class="execute-btn small-btn">Validar</button>
            <button onclick="formatJSON()" class="execute-btn small-btn">Formatear</button>
            <button onclick="clearEditor()" class="execute-btn small-btn">Limpiar</button>
          </div>
        </div>
        <div class="preview-section">
          <h4>Análisis de Estructura:</h4>
          <div id="json-preview" class="json-preview">Escribe JSON válido para ver el análisis de estructura</div>
          <div id="json-errors" class="json-errors hidden"></div>
        </div>
      </div>

      <h2>Generador de JSON desde Formulario</h2>
      <p>Crea JSON automáticamente completando un formulario.</p>

      <div class="form-generator">
        <div class="form-section">
          <h4>Formulario:</h4>
          <div class="form-group">
            <label>Nombre:</label>
            <input type="text" id="form-nombre" placeholder="Ingresa nombre">
          </div>
          <div class="form-group">
            <label>Edad:</label>
            <input type="number" id="form-edad" placeholder="Ingresa edad">
          </div>
          <div class="form-group">
            <label>Email:</label>
            <input type="email" id="form-email" placeholder="email@ejemplo.com">
          </div>
          <div class="form-group">
            <label>Activo:</label>
            <input type="checkbox" id="form-activo">
          </div>
          <div class="form-group">
            <label>Habilidades (separadas por comas):</label>
            <input type="text" id="form-habilidades" placeholder="JavaScript, Python, CSS">
          </div>
          <button onclick="generateJSONFromForm()" class="execute-btn">Generar JSON</button>
        </div>
        <div class="json-output-section">
          <h4>JSON Generado:</h4>
          <div id="generated-json" class="json-preview">Presiona "Generar JSON" para crear el JSON desde el formulario</div>
        </div>
      </div>
    </section>
  </div>

  <script src="script.js"></script>
</body>

</html>
